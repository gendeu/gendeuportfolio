<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gen Deu Gagarin | UI/UX Portfolio</title>
  <meta name="description" content="Gen Deu Gagarin â€” UI/UX Developer & Frontend Engineer" />
  <!-- Inter font for the new Case Studies section -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
/* ---------- Base + Theme ---------- */
:root{--bg1:#0f2027;--bg2:#203a43;--bg3:#2c5364;--text:#f5f5f5;--accent:#00f2fe;--glass-bg:rgba(255,255,255,0.08);--glass-border:rgba(255,255,255,0.2)}
body.light{--bg1:#dbe6f6;--bg2:#cfd9df;--bg3:#e2ebf0;--text:#222;--accent:#3f51b5;--glass-bg:rgba(255,255,255,0.5);--glass-border:rgba(0,0,0,0.1)}
*{box-sizing:border-box}html,body{height:100%;margin:0;font-family:'Poppins',system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;color:var(--text);-webkit-font-smoothing:antialiased}
body{background:linear-gradient(-45deg,var(--bg1),var(--bg2),var(--bg3));background-size:400% 400%;animation:gradientMove 25s ease infinite;transition:background .8s ease,color .3s ease}
@keyframes gradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}a{color:var(--accent);text-decoration:none}


/* ---------- Layout ---------- */
header{position:sticky;top:0;z-index:1000;backdrop-filter:blur(12px);padding:.6rem 1rem}
nav{display:flex;justify-content:space-between;align-items:center;gap:1rem;position:relative}
nav ul{list-style:none;display:flex;gap:1.25rem;margin:0;padding:0;transition:max-height 0.35s ease, opacity 0.35s ease}
nav ul li a{text-decoration:none;color:var(--text);position:relative;padding:.25rem .1rem}
nav ul li a::after{content:"";position:absolute;left:0;bottom:-4px;width:100%;height:2px;background:var(--accent);transform:scaleX(0);transition:transform .3s ease;transform-origin:left}
nav ul li a:hover::after{transform:scaleX(1)}
#menu-toggle{display:none;cursor:pointer;font-size:1.25rem}


/* --- Mobile nav styles with slide-down --- */
@media (max-width:768px) {
nav ul {
position: absolute;
top: 60px;
right: 0;
background: var(--bg2);
flex-direction: column;
gap: 1rem;
width: 200px;
padding: 1rem;
border-radius: 8px;
overflow: hidden;
max-height: 0;
opacity: 0;
}
nav ul.show {
max-height: 500px;
opacity: 1;
}
#menu-toggle { display: block; }
}


.page{display:none;opacity:0;transform:translateY(20px);transition:opacity .45s ease,transform .45s ease;min-height:72vh;padding:2.5rem 1.25rem}.page.active{display:block;opacity:1;transform:translateY(0)}
.hero{text-align:center;margin-top:10vh;padding:1.5rem}.highlight{color:var(--accent)}
.card.glass{padding:1.25rem;border-radius:16px;background:var(--glass-bg);border:1px solid var(--glass-border);backdrop-filter:blur(12px);margin:1rem auto;width:92%;max-width:1000px;text-align:center;transition:transform .22s ease,box-shadow .22s ease}
.btn{display:inline-block;margin-top:.65rem;padding:.5rem .9rem;border-radius:28px;background:var(--glass-bg);border:1px solid var(--glass-border);backdrop-filter:blur(8px);color:var(--accent);font-weight:600;text-decoration:none;transition:transform .15s ease,background .15s ease}
.btn:hover{transform:scale(1.03)}
.muted{color:rgba(255,255,255,.72);font-size:.95rem}


/* --- Case Studies (mobile refinements + smooth expand) --- */
.uix1-root .uix1-card { transition: flex-basis 0.45s ease, transform 0.45s ease, box-shadow 0.45s ease, min-height 0.45s ease; }


@media (max-width:767px){
.uix1-root .uix1-track { flex-direction: column; align-items: stretch; }
.uix1-root .uix1-card { width: 100%; min-height: 240px; }
.uix1-root .uix1-card[data-active="true"] { min-height: 360px; }
.uix1-root .uix1-content { flex-direction: column; align-items: flex-start; padding: 1rem; transition: padding 0.3s ease; }
.uix1-root .uix1-title { font-size: 1.4rem; margin-bottom: .5rem; }
.uix1-root .uix1-desc { font-size: 0.95rem; margin-bottom: 1rem; }
.uix1-root .uix1-btn { width: 100%; text-align: center; }
}


.page{display:none;opacity:0;transform:translateY(20px);transition:opacity .45s ease,transform .45s ease;min-height:72vh;padding:2.5rem 1.25rem}.page.active{display:block;opacity:1;transform:translateY(0)}
.hero{text-align:center;margin-top:10vh;padding:1.5rem}.highlight{color:var(--accent)}
.card.glass{padding:1.25rem;border-radius:16px;background:var(--glass-bg);border:1px solid var(--glass-border);backdrop-filter:blur(12px);margin:1rem auto;width:92%;max-width:1000px;text-align:center;transition:transform .22s ease,box-shadow .22s ease}
.btn{display:inline-block;margin-top:.65rem;padding:.5rem .9rem;border-radius:28px;background:var(--glass-bg);border:1px solid var(--glass-border);backdrop-filter:blur(8px);color:var(--accent);font-weight:600;text-decoration:none;transition:transform .15s ease,background .15s ease}
.btn:hover{transform:scale(1.03)}
.muted{color:rgba(255,255,255,.72);font-size:.95rem}

/* Projects header + view toggle */
.projects-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}
.view-toggle{display:flex;gap:8px}
.view-btn{width:40px;height:40px;border-radius:8px;border:1px solid rgba(255,255,255,.06);background:transparent;color:var(--text);cursor:pointer;font-size:18px;display:flex;align-items:center;justify-content:center}
.view-btn[aria-pressed="true"]{background:var(--accent);color:#071225;box-shadow:0 8px 18px rgba(0,0,0,.35);border-color:rgba(255,255,255,.08)}

/* Grid view */
.project-grid{display:grid;gap:1rem;grid-template-columns:repeat(3,1fr)}@media (max-width:1024px){.project-grid{grid-template-columns:repeat(2,1fr)}}@media (max-width:720px){.project-grid{grid-template-columns:1fr}}
.project-grid .project{padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.02);cursor:pointer;transition:transform .18s ease}
.project-grid .project:hover{transform:translateY(-6px)}

/* Archived styling */
.archived-wrap{position:relative;border-radius:12px;padding:2rem;background:linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.6));border:1px solid rgba(255,255,255,0.04);min-height:220px;display:flex;align-items:center;justify-content:center}
.archived-overlay{position:absolute;inset:0;background:#000;color:#fff;opacity:.95;display:flex;align-items:center;justify-content:center;border-radius:12px;font-weight:700;z-index:4}
.archived-overlay small{display:block;font-weight:400;margin-top:6px;color:rgba(255,255,255,.8)}
.archived-note{z-index:5;text-align:center}

/* Carousel styles (used by skills) */
.custom-carousel{position:relative;max-width:1000px;margin:0 auto;display:flex;align-items:center;justify-content:center}
.carousel-wrap{ width:100%; position:relative; max-width:1000px; margin:0 auto; padding:0 0.5rem; overflow: visible; }
.carousel{display:grid;grid-auto-flow: column;grid-auto-columns: 200px;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;padding-inline: calc(50% - 100px);padding-block: 22px;scrollbar-width:none}
.carousel::-webkit-scrollbar{display:none}
.card-slide{scroll-snap-align:center;background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:12px;overflow:visible;display:flex;flex-direction:column;cursor:pointer;transition: transform .28s cubic-bezier(.2,.9,.28,1), box-shadow .28s, opacity .28s;transform-origin:center}
.card-slide img{width:100%;height:120px;object-fit:cover;display:block}
.card-slide .meta{padding:10px 12px;font-weight:600;background:#f5f5f5;color:#222}
.card-slide:not(.active){opacity:.72;transform: scale(.94) translateY(0)}
.card-slide.active{transform: translateY(-10px) scale(1.06);box-shadow:0 36px 80px rgba(2,6,23,0.55);opacity:1;z-index:999}

/* arrows */
.arrow{position:absolute;top:50%;transform:translateY(-50%);width:44px;height:44px;border-radius:50%;background:var(--glass-bg);border:1px solid var(--glass-border);display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:40;box-shadow:0 10px 20px rgba(0,0,0,0.15)}
.arrow.left{left:8px}
.arrow.right{right:8px}
.arrow svg{width:18px;height:18px;fill:var(--text)}

.carousel-detail{max-width:1000px;margin:18px auto 36px;padding:14px;border-radius:12px;background:var(--glass-bg);border:1px solid var(--glass-border);backdrop-filter:blur(8px);color:var(--text);display:block}
.carousel-detail h4{margin:0 0 6px 0}
.carousel-detail p{margin:0;color:rgba(255,255,255,.85);line-height:1.45}

/* Modal (kept) */
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);justify-content:center;align-items:center;z-index:6000;opacity:0;transition:opacity .25s ease}.modal.show{display:flex;opacity:1}
.modal-content{max-width:820px;padding:1.25rem;border-radius:12px;background:var(--glass-bg);border:1px solid var(--glass-border);backdrop-filter:blur(15px);transform:translateY(0);opacity:1;position:relative;color:var(--text)}
.modal-content img{max-width:280px;width:100%;height:auto;border-radius:8px;object-fit:cover;float:left;margin-right:14px}
.modal-left{display:flex;flex-direction:row;gap:12px;align-items:flex-start}
.close{position:absolute;top:10px;right:12px;font-size:1.25rem;cursor:pointer}

/* Responsive tweaks */
@media (max-width:900px){.carousel{grid-auto-columns:220px;padding-inline:calc(50% - 110px)}.card-slide img{height:130px}}
@media (max-width:640px){.carousel{grid-auto-columns:160px;padding-inline:calc(50% - 80px)}.card-slide img{height:110px}header{padding:.55rem .75rem}.modal-content img{display:none}.modal-left{flex-direction:column}}

/* ===== Scoped uix1 styles will be injected inline in the Case Studies page to avoid collisions ===== */

  
/* Navbar */
header {
  position: sticky;
  top: 0;
  z-index: 1000;
  padding: 0.6rem 1rem;
  background: transparent;
}

nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #1a0f0a;
  border-radius: 2rem;
  padding: 0.6rem 1.2rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.25);
}

nav .logo {
  font-family: 'Poppins', sans-serif;
  font-weight: 700;
  font-size: 1.2rem;
  color: #fff;
  flex: 1;
  text-align: center;
}

nav ul {
  list-style: none;
  display: flex;
  gap: 1.5rem;
  margin: 0;
  padding: 0;
  flex: 1;
  justify-content: flex-start;
}

nav ul li a {
  text-decoration: none;
  color: #ddd;
  font-weight: 500;
  transition: color 0.3s ease;
}
nav ul li a:hover,
nav ul li a.active {
  color: #fff;
}

nav .actions {
  display: flex;
  align-items: center;
  gap: 1rem;
}

nav .actions a {
  color: #ddd;
  text-decoration: none;
  font-weight: 500;
}

nav .actions .cta {
  background: #ff5c1c;
  color: #fff;
  border: none;
  border-radius: 1.5rem;
  padding: 0.5rem 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s ease, background 0.2s ease;
}
nav .actions .cta:hover {
  background: #ff733f;
  transform: scale(1.05);
}

/* Hamburger */
#menu-toggle {
  display: none;
  font-size: 1.5rem;
  cursor: pointer;
  color: #fff;
}

/* Mobile */
@media (max-width: 768px) {
  nav {
    border-radius: 1rem;
  }

  nav ul {
    position: absolute;
    top: 70px;
    left: 0;
    right: 0;
    flex-direction: column;
    background: #1a0f0a;
    border-radius: 0 0 1rem 1rem;
    padding: 1rem;
    gap: 1rem;
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-height 0.35s ease, opacity 0.35s ease;
  }

  nav ul.show {
    max-height: 500px;
    opacity: 1;
  }

  #menu-toggle {
    display: block;
  }

  nav .logo {
    flex: initial;
    text-align: left;
  }

  nav .actions {
    display: none;
  }
}

</style>

  <!-- New Case Studies (scoped CSS) -->
  <style>
/* ===== Scoped styles: everything is inside .uix1-root ===== */
.uix1-root {
  --gap: 1.25rem;
  --speed: 0.55s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --closed: 5rem;
  --open: 30rem;
  --accent: #ff6b35;

  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  background: #07090d;
  color: #c5c7ce;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  display: block;
  width: 100%;
  min-height: 0;
}
.uix1-root * { box-sizing: border-box; }
.uix1-root section { padding-bottom: 40px; }

/* Header */
.uix1-root .uix1-head { max-width:1400px; margin:auto; padding:70px 20px 40px; display:flex; justify-content:space-between; align-items:flex-end; gap:2rem; }
.uix1-root .uix1-head h2 { font:400 1.5rem/1.2 Inter, sans-serif; color:#fff; }
@media (min-width:1024px){ .uix1-root .uix1-head h2{ font-size:2.25rem; } }

/* Nav */
.uix1-root .uix1-nav-btn { width:2.5rem; height:2.5rem; border:none; border-radius:50%; background:rgba(255,255,255,0.12); color:#fff; font-size:1.5rem; display:flex; align-items:center; justify-content:center; cursor:pointer; transition:0.3s; }
.uix1-root .uix1-nav-btn:hover { background:var(--accent); }
.uix1-root .uix1-nav-btn:disabled { opacity:0.3; cursor:default; }

/* Slider */
.uix1-root .uix1-slider { max-width:1400px; margin:auto; overflow:hidden; }
.uix1-root .uix1-controls { display:flex; gap:0.5rem; align-items:center; }
.uix1-root .uix1-track { display:flex; gap:var(--gap); align-items:flex-start; justify-content:center; scroll-behavior:smooth; scroll-snap-type:x mandatory; padding-bottom:40px; }
.uix1-root .uix1-track::-webkit-scrollbar{ display:none; }

/* Cards */
.uix1-root .uix1-card { position:relative; flex:0 0 var(--closed); height:26rem; border-radius:1rem; overflow:hidden; cursor:pointer; transition:flex-basis var(--speed), transform var(--speed); }
.uix1-root .uix1-card[data-active="true"]{ flex-basis:var(--open); transform:translateY(-6px); box-shadow:0 18px 55px rgba(0,0,0,0.45); }

.uix1-root .uix1-bg { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; filter:brightness(0.75) saturate(75%); transition:filter 0.3s, transform var(--speed); }
.uix1-root .uix1-card:hover .uix1-bg { filter:brightness(0.9) saturate(100%); transform:scale(1.06); }

.uix1-root .uix1-content { position:absolute; inset:0; display:flex; flex-direction:column; justify-content:center; align-items:center; gap:0.7rem; padding:0; background:linear-gradient(transparent 40%, rgba(0,0,0,0.85) 100%); z-index:2; }
.uix1-root .uix1-title { color:#fff; font-weight:700; font-size:1.35rem; writing-mode:vertical-rl; transform:rotate(180deg); }
.uix1-root .uix1-thumb, .uix1-root .uix1-desc, .uix1-root .uix1-btn { display:none; }

.uix1-root .uix1-card[data-active="true"] .uix1-content { flex-direction:row; align-items:center; padding:1.2rem 2rem; gap:1.1rem; }
.uix1-root .uix1-card[data-active="true"] .uix1-title { writing-mode:horizontal-tb; transform:none; font-size:2.4rem; }
.uix1-root .uix1-card[data-active="true"] .uix1-thumb, .uix1-root .uix1-card[data-active="true"] .uix1-desc, .uix1-root .uix1-card[data-active="true"] .uix1-btn { display:block; }

.uix1-root .uix1-thumb { width:133px; height:269px; border-radius:0.45rem; object-fit:cover; box-shadow:0 4px 10px rgba(0,0,0,0.4); }
.uix1-root .uix1-desc { color:#ddd; font-size:1rem; line-height:1.4; max-width:16rem; }
.uix1-root .uix1-btn { padding:0.55rem 1.3rem; border:none; border-radius:9999px; background:var(--accent); color:#fff; font-size:0.9rem; font-weight:600; cursor:pointer; }
.uix1-root .uix1-btn:hover { background:#ff824f; }

/* Dots */
.uix1-root .uix1-dots { display:flex; gap:0.5rem; justify-content:center; padding:20px 0; }
.uix1-root .uix1-dot { width:13px; height:13px; border-radius:50%; background:rgba(255,255,255,0.35); cursor:pointer; transition:0.3s; }
.uix1-root .uix1-dot.active { background:var(--accent); transform:scale(1.2); }

/* Modal (scoped) */
.uix1-root .uix1-modal { position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:9999; pointer-events:none; }
.uix1-root .uix1-modal[uix1-open="true"] { display:flex; pointer-events:all; }

.uix1-root .uix1-modal__overlay {
  position:absolute; inset:0; background:rgba(0,0,0,0.6); backdrop-filter:blur(2px); opacity:0; transition:opacity 220ms ease;
}
.uix1-root .uix1-modal[uix1-open="true"] .uix1-modal__overlay { opacity:1; }

.uix1-root .uix1-modal__dialog {
  position:relative; z-index:2;
  max-width:880px; width:calc(100% - 40px); max-height:calc(100% - 80px); overflow:auto;
  border-radius:12px;
  background:linear-gradient(180deg, rgba(12,12,14,0.95), rgba(6,6,8,0.98));
  box-shadow:0 20px 60px rgba(0,0,0,0.6);
  padding:20px;
  color:#fff;
  transform-origin: center center;
  opacity:0;
  transform: translateY(8px) scale(0.98);
  transition: transform 320ms cubic-bezier(.2,.9,.2,1), opacity 220ms ease;
}

/* Modal content */
.uix1-root .uix1-modal__header { display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:12px; }
.uix1-root .uix1-modal__title { font-size:1.25rem; font-weight:700; margin:0; }
.uix1-root .uix1-modal__close { background:transparent; border:none; color:#fff; font-size:1.25rem; cursor:pointer; padding:6px; border-radius:6px; }
.uix1-root .uix1-modal__close:hover { background:rgba(255,255,255,0.04); }

.uix1-root .uix1-modal__body { display:flex; gap:16px; align-items:flex-start; }
.uix1-root .uix1-modal__img { width:320px; height:420px; object-fit:cover; border-radius:8px; flex:0 0 320px; box-shadow:0 10px 30px rgba(0,0,0,0.5); }
.uix1-root .uix1-modal__content { flex:1 1 auto; min-width:0; }
.uix1-root .uix1-modal__desc { color:#ddd; line-height:1.5; font-size:0.98rem; }

@media (max-width:720px){
  .uix1-root .uix1-modal__body { flex-direction:column; }
  .uix1-root .uix1-modal__img { width:100%; height:260px; flex:none; }
}

/* Responsive slider tweaks */
@media (max-width:767px){
  .uix1-root { --closed:4rem; --open:22rem; }
  .uix1-root .uix1-head { padding:50px 20px 30px; }
  .uix1-root .uix1-track { flex-direction:column; scroll-snap-type:y mandatory; align-items:center; justify-content:flex-start; padding-bottom:0; }
  .uix1-root .uix1-card { height:20rem; }
  .uix1-root .uix1-title { font-size:1.1rem; writing-mode:horizontal-tb; transform:none; text-align:center; padding-inline:0.3rem; }
  .uix1-root .uix1-nav-btn { width:2rem; height:2rem; font-size:1.2rem; }
}
@media (max-width:767px){
  .uix1-root { --closed:100%; --open:100%; --gap:0.8rem; }
  .uix1-root .uix1-head { padding:30px 15px 20px; flex-direction:column; align-items:flex-start; gap:1rem; }
  .uix1-root .uix1-slider { padding:0 15px; }
  .uix1-root .uix1-track { flex-direction:column; scroll-snap-type:y mandatory; gap:0.8rem; padding-bottom:20px; }
  .uix1-root .uix1-card { height:auto; min-height:80px; flex:0 0 auto; width:100%; scroll-snap-align:start; }
  .uix1-root .uix1-card[data-active="true"] { min-height:300px; transform:none; box-shadow:0 8px 25px rgba(0,0,0,0.3); }
  .uix1-root .uix1-content { flex-direction:row; justify-content:flex-start; padding:1rem; align-items:center; gap:1rem; }
  .uix1-root .uix1-title { writing-mode:horizontal-tb; transform:none; font-size:1.2rem; margin-right:auto; }
  .uix1-root .uix1-thumb, .uix1-root .uix1-desc, .uix1-root .uix1-btn { display:none; }
  .uix1-root .uix1-card[data-active="true"] .uix1-content { align-items:flex-start; padding:1.5rem; }
  .uix1-root .uix1-card[data-active="true"] .uix1-title { font-size:1.8rem; margin-bottom:1rem; margin-top:2rem; }
  .uix1-root .uix1-card[data-active="true"] .uix1-thumb { width:200px; height:267px; border-radius:0.35rem; margin-bottom:1rem; }
  .uix1-root .uix1-card[data-active="true"] .uix1-desc { font-size:0.95rem; max-width:100%; margin-bottom:1rem; }
  .uix1-root .uix1-card[data-active="true"] .uix1-btn { align-self:center; width:100%; text-align:center; padding:0.7rem; }
  .uix1-root .uix1-dots { display:none; }
  .uix1-root .uix1-controls { width:100%; justify-content:space-between; padding:0 15px 20px; }
  .uix1-root .uix1-nav-btn { position:static; transform:none; }
}
  </style>
</head>
<body>

  <!-- Loader -->
  <div id="loader" aria-hidden="true" style="position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);z-index:7000;opacity:0;pointer-events:none;">
    <div style="width:72px;height:72px;border-radius:50%;background:var(--glass-bg);border:2px solid var(--glass-border);display:flex;align-items:center;justify-content:center;color:var(--accent);font-weight:700">GD</div>
  </div>
  <div id="dim" aria-hidden="true" style="position:fixed;inset:0;background:rgba(0,0,0,.28);z-index:6900;opacity:0;pointer-events:none;"></div>

  <!-- Particle Background -->
  <canvas id="bgCanvas" style="position:fixed;inset:0;z-index:-2"></canvas>

  <!-- Navbar -->
  <header>
    <nav>
      <h1 class="logo" style="margin:0;font-size:1.05rem">GenDeu</h1>
      <div id="menu-toggle">â˜°</div>
      <ul>
        <li><a href="#home" class="nav-link active">Home</a></li>
        <li><a href="#about" class="nav-link">About</a></li>
        <li><a href="#projects" class="nav-link">Case Studies</a></li>
        <li><a href="#skills" class="nav-link">Skills</a></li>
        <li><a href="#contact" class="nav-link">Contact</a></li>
      </ul>
      <button id="theme-toggle">ðŸŒ™</button>
    </nav>
  </header>

  <!-- Hero -->
  <section id="home" class="page active">
    <div class="hero">
      <h2>Hello, Iâ€™m <span class="highlight">Gen Deu</span></h2>
      <p class="tagline"><span id="typewriter"></span></p>
      <a href="#projects" class="btn nav-link">See My Projects</a>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="page">
    <h2>About Me</h2>
    <div class="card glass">
      <p>Iâ€™m a UI/UX Developer and Frontend Engineer passionate about creating sleek, user-focused web experiences.</p>
    </div>
  </section>

  <!-- Projects / Case Studies: REPLACED with your standalone uix1-root -->
  <section id="projects" class="page">
    <h2>Case Studies</h2>

    <main>
      <div class="uix1-root">
        <section>
          <div class="uix1-head">
            <h2>Boost your professional workflow and productivity</h2>

            <div class="uix1-controls">
              <button id="uix1-prev" class="uix1-nav-btn" aria-label="Prev">â€¹</button>
              <button id="uix1-next" class="uix1-nav-btn" aria-label="Next">â€º</button>
            </div>
          </div>

          <div class="uix1-slider">
            <div class="uix1-track" id="uix1-track">

              <article class="uix1-card" data-active="true">
                <img class="uix1-bg" src="https://cdn-front.freepik.com/home/anon-rvmp/professionals/designers.webp" alt="Designers background">
                <div class="uix1-content">
                  <img class="uix1-thumb" src="https://cdn-front.freepik.com/home/anon-rvmp/professionals/img-designer.webp?w=480" alt="Designer thumb">
                  <div>
                    <h3 class="uix1-title">Designers</h3>
                    <p class="uix1-desc">Tools that work like you do.</p>
                    <button class="uix1-btn" type="button">Details</button>
                  </div>
                </div>
              </article>

              <article class="uix1-card">
                <img class="uix1-bg" src="https://cdn-front.freepik.com/home/anon-rvmp/professionals/marketers.webp" alt="Marketers background">
                <div class="uix1-content">
                  <img class="uix1-thumb" src="https://cdn-front.freepik.com/home/anon-rvmp/professionals/img-marketer.webp?w=480" alt="Marketer thumb">
                  <div>
                    <h3 class="uix1-title">Marketers</h3>
                    <p class="uix1-desc">Create faster, explore new possibilities.</p>
                    <button class="uix1-btn" type="button">Details</button>
                  </div>
                </div>
              </article>

              <article class="uix1-card">
                <img class="uix1-bg" src="https://cdn-front.freepik.com/home/anon-rvmp/professionals/filmmakers.webp" alt="Filmmakers background">
                <div class="uix1-content">
                  <img class="uix1-thumb" src="https://cdn-front.freepik.com/home/anon-rvmp/professionals/img-film.webp?w=480" alt="Filmmaker thumb">
                  <div>
                    <h3 class="uix1-title">VFX filmmakers</h3>
                    <p class="uix1-desc">From concept to cut, faster.</p>
                    <button class="uix1-btn" type="button">Details</button>
                  </div>
                </div>
              </article>

              <article class="uix1-card">
                <img class="uix1-bg" src="https://cdn-front.freepik.com/home/anon-rvmp/professionals/content-creators.webp" alt="Content creators background">
                <div class="uix1-content">
                  <img class="uix1-thumb" src="https://cdn-front.freepik.com/home/anon-rvmp/professionals/img-content.webp?w=480" alt="Content creator thumb">
                  <div>
                    <h3 class="uix1-title">Content creators</h3>
                    <p class="uix1-desc">Make scroll-stopping content, easily.</p>
                    <button class="uix1-btn" type="button">Details</button>
                  </div>
                </div>
              </article>

              <article class="uix1-card">
                <img class="uix1-bg" src="https://cdn-front.freepik.com/home/anon-rvmp/professionals/art-directors.webp" alt="Art directors background">
                <div class="uix1-content">
                  <img class="uix1-thumb" src="https://cdn-front.freepik.com/home/anon-rvmp/professionals/img-art.webp?w=480" alt="Art director thumb">
                  <div>
                    <h3 class="uix1-title">Art directors</h3>
                    <p class="uix1-desc">Creative control at every stage.</p>
                    <button class="uix1-btn" type="button">Details</button>
                  </div>
                </div>
              </article>

            </div>
          </div>

          <div class="uix1-dots" id="uix1-dots" aria-hidden="false"></div>
        </section>

        <!-- Modal: scoped inside the root -->
        <div class="uix1-modal" role="dialog" aria-modal="true" aria-hidden="true" uix1-open="false" id="uix1-modal">
          <div class="uix1-modal__overlay" data-uix1-overlay></div>

          <div class="uix1-modal__dialog" role="document" aria-labelledby="uix1-modal-title">
            <div class="uix1-modal__header">
              <h3 class="uix1-modal__title" id="uix1-modal-title">Title</h3>
              <div style="display:flex;gap:8px;align-items:center">
                <button class="uix1-modal__close" aria-label="Close details" data-uix1-close>&times;</button>
              </div>
            </div>

            <div class="uix1-modal__body">
              <img src="" alt="" class="uix1-modal__img" id="uix1-modal-img">
              <div class="uix1-modal__content">
                <p class="uix1-modal__desc" id="uix1-modal-desc">Description text goes here.</p>
              </div>
            </div>
          </div>
        </div>

      </div>
    </main>

  </section>

  <!-- Skills page: now hosts the previous case studies carousel/grid (default design) -->
  <section id="skills" class="page">
    <h2>Skills</h2>

    <div class="projects-header">
      <h3>Skills & Selected Work</h3>
      <div class="view-toggle" role="tablist" aria-label="Skills view toggle">
        <button id="btn-skills-carousel" class="view-btn" aria-pressed="true" title="Carousel view">ðŸŽ®</button>
        <button id="btn-skills-grid" class="view-btn" aria-pressed="false" title="Grid view">â–¦</button>
      </div>
    </div>

    <div id="skillsCarouselView" class="custom-carousel" aria-hidden="false">
      <div class="carousel-wrap">
        <button class="arrow left" id="skills-arrow-left" aria-label="Previous"><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></svg></button>
        <div class="carousel" id="skillsCarousel" role="listbox" aria-label="Skills carousel"></div>
        <button class="arrow right" id="skills-arrow-right" aria-label="Next"><svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"></path></svg></button>
      </div>
    </div>

    <div id="skillsCarouselDetail" class="carousel-detail" aria-live="polite" style="display:none;"><h4 id="skills-detail-title"></h4><p id="skills-detail-short"></p></div>

    <div id="skillsGridView" class="project-grid" style="display:none;margin-top:12px;">
      <div class="card glass project" data-key="proj-portfolio"><h3>Portfolio Site</h3><p>Personal portfolio & case study</p></div>
      <div class="card glass project" data-key="proj-redesign"><h3>Redesign Concept</h3><p>Website redesign case</p></div>
      <div class="card glass project" data-key="proj-dashboard"><h3>Analytics Dashboard</h3><p>Data dashboard UI</p></div>
      <div class="card glass project" data-key="proj-mobile"><h3>Mobile App</h3><p>Mobile UX flows</p></div>
      <div class="card glass project" data-key="proj-ecom"><h3>E-commerce UI</h3><p>Product & checkout UX</p></div>
      <div class="card glass project" data-key="proj-designsystem"><h3>Design System</h3><p>Component library</p></div>
    </div>

    <!-- Modal for grid items (kept) -->
    <div id="case-study" class="modal" aria-hidden="true">
      <div class="modal-content" role="dialog" aria-modal="true">
        <span class="close" title="Close modal">&times;</span>
        <div class="modal-left">
          <img id="modal-thumb" src="" alt="">
          <div>
            <h3 id="modal-title"></h3>
            <p id="modal-role" class="muted"></p>
            <div id="modal-body" style="margin-top:8px;line-height:1.45;"></div>
            <p style="margin-top:12px;"><a id="modal-link" href="#" target="_blank" class="btn">View Live</a></p>
          </div>
        </div>
      </div>
    </div>

  </section>

  <!-- Contact -->
  <section id="contact" class="page">
    <h2>Contact</h2>
    <div class="card glass">
      <p>Email: <a href="mailto:gendeulgagarin@gmail.com">gendeulgagarin@gmail.com</a></p>
    </div>
  </section>

<footer style="text-align:center;padding:1.25rem;color:rgba(255,255,255,.7)">Â© 2025 Gen Deu Gagarin</footer>

<script>
/* -------------------------
   JSON CMS Content
   ------------------------- */
const siteContent = {
  hero: {
    greeting: "Hello, Iâ€™m",
    name: "Gen Deu",
    roles: ["UI/UX Developer","Frontend Engineer","Creative Coder"],
    cta: "See My Projects"
  },
  about: {
    title: "About Me",
    text: "Iâ€™m a UI/UX Developer and Frontend Engineer passionate about creating sleek, user-focused web experiences."
  },
  caseStudies: [
    { title: "Designers", desc: "Tools that work like you do.",
      bg: "https://cdn-front.freepik.com/home/anon-rvmp/professionals/designers.webp",
      thumb: "https://cdn-front.freepik.com/home/anon-rvmp/professionals/img-designer.webp?w=480" },
    { title: "Marketers", desc: "Create faster, explore new possibilities.",
      bg: "https://cdn-front.freepik.com/home/anon-rvmp/professionals/marketers.webp",
      thumb: "https://cdn-front.freepik.com/home/anon-rvmp/professionals/img-marketer.webp?w=480" },
    { title: "VFX filmmakers", desc: "From concept to cut, faster.",
      bg: "https://cdn-front.freepik.com/home/anon-rvmp/professionals/filmmakers.webp",
      thumb: "https://cdn-front.freepik.com/home/anon-rvmp/professionals/img-film.webp?w=480" },
    { title: "Content creators", desc: "Make scroll-stopping content, easily.",
      bg: "https://cdn-front.freepik.com/home/anon-rvmp/professionals/content-creators.webp",
      thumb: "https://cdn-front.freepik.com/home/anon-rvmp/professionals/img-content.webp?w=480" },
    { title: "Art directors", desc: "Creative control at every stage.",
      bg: "https://cdn-front.freepik.com/home/anon-rvmp/professionals/art-directors.webp",
      thumb: "https://cdn-front.freepik.com/home/anon-rvmp/professionals/img-art.webp?w=480" }
  ],
  skills: [
    { key:'proj-portfolio', title:'Portfolio Site', role:'UI/UX / Frontend',
      img:'https://via.placeholder.com/600x360.png?text=Portfolio',
      short:'Personal portfolio with case studies and UI experiments.',
      details:'<p>Responsive portfolio; focus on content-first case studies and performance.</p>', live:'#' },
    { key:'proj-redesign', title:'Redesign Concept', role:'UI/UX Lead',
      img:'https://via.placeholder.com/600x360.png?text=Redesign',
      short:'Website redesign focusing on clarity and conversion.',
      details:'<p>IA improvements, clearer CTAs and a refreshed visual system.</p>', live:'#' },
    { key:'proj-dashboard', title:'Analytics Dashboard', role:'Frontend Engineer',
      img:'https://via.placeholder.com/600x360.png?text=Dashboard',
      short:'Interactive analytics UI with filters and charts.',
      details:'<p>Reusable chart components and responsive layouts for large datasets.</p>', live:'#' },
    { key:'proj-mobile', title:'Mobile App Flows', role:'Product Designer',
      img:'https://via.placeholder.com/600x360.png?text=Mobile',
      short:'Mobile-first UX flows & prototypes.',
      details:'<p>Task-focused flows and micro-interactions to reduce drop-off.</p>', live:'#' },
    { key:'proj-ecom', title:'E-commerce UI', role:'UX / Frontend',
      img:'https://via.placeholder.com/600x360.png?text=Ecommerce',
      short:'Product listing & checkout improvements.',
      details:'<p>Improved product discovery and accessible checkout forms.</p>', live:'#' },
    { key:'proj-designsystem', title:'Design System', role:'Design System Owner',
      img:'https://via.placeholder.com/600x360.png?text=Design+System',
      short:'Component library & tokens for consistency.',
      details:'<p>Component library with tokens and documentation.</p>', live:'#' }
  ],
  contact: {
    title: "Contact",
    email: "gendeulgagarin@gmail.com"
  }
};

/* -------------------------
   DOM + Loader
   ------------------------- */
const qs = (s, root=document) => root.querySelector(s);
const qsa = (s, root=document) => Array.from(root.querySelectorAll(s));
const loaderEl = qs('#loader'); const dimEl = qs('#dim');

function showLoader(){ loaderEl.style.opacity='1'; dimEl.style.opacity='1'; document.body.style.pointerEvents='none'; }
function hideLoader(){ loaderEl.style.opacity='0'; dimEl.style.opacity='0'; document.body.style.pointerEvents='auto'; }

document.addEventListener('mousemove', e => {
  if(loaderEl.style.opacity==='1'){ loaderEl.style.left=e.clientX+'px'; loaderEl.style.top=e.clientY+'px'; loaderEl.style.transform='translate(-50%,-50%)'; }
});



/* -------------------------
   Inject Content from JSON
   ------------------------- */
function injectContent(){
  // Hero
  qs('#home h2').innerHTML = `${siteContent.hero.greeting} <span class="highlight">${siteContent.hero.name}</span>`;
  qs('#home .btn').textContent = siteContent.hero.cta;

  // About
  qs('#about h2').textContent = siteContent.about.title;
  qs('#about .card p').textContent = siteContent.about.text;

  // Case Studies
  const track = qs('#uix1-track'); track.innerHTML="";
  siteContent.caseStudies.forEach((c,i)=>{
    const card=document.createElement('article'); card.className='uix1-card'; if(i===0) card.dataset.active="true";
    card.innerHTML=`<img class="uix1-bg" src="${c.bg}" alt="${c.title} background">
      <div class="uix1-content">
        <img class="uix1-thumb" src="${c.thumb}" alt="${c.title} thumb">
        <div><h3 class="uix1-title">${c.title}</h3><p class="uix1-desc">${c.desc}</p>
        <button class="uix1-btn" type="button">Details</button></div></div>`;
    track.appendChild(card);
  });

  // Skills grid
  const grid=qs('#skillsGridView'); grid.innerHTML="";
  siteContent.skills.forEach(p=>{ const div=document.createElement('div'); div.className='card glass project'; div.dataset.key=p.key; div.innerHTML=`<h3>${p.title}</h3><p>${p.short}</p>`; grid.appendChild(div); });

  // Contact
  qs('#contact h2').textContent = siteContent.contact.title;
  qs('#contact a').textContent = siteContent.contact.email;
  qs('#contact a').href = `mailto:${siteContent.contact.email}`;
}


/* -------------------------
   SPA Navigation (One Page at a Time)
   ------------------------- */
function initSPA() {
  const links = qsa('.nav-link');
  const pages = qsa('.page');

  links.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const href = link.getAttribute('href');
      const target = document.querySelector(href);
      if (!target) return;

      // Nav highlight
      links.forEach(l => l.classList.remove('active'));
      link.classList.add('active');

      // Hide current
      pages.forEach(p => {
        if (p.classList.contains('active')) {
          p.style.opacity = '0';
          p.style.transform = 'translateY(20px)';
          setTimeout(() => p.classList.remove('active'), 300);
        }
      });

      // Show loader during transition
      showLoader();

      // Show new page
      setTimeout(() => {
        target.classList.add('active');
        target.style.opacity = '1';
        target.style.transform = 'translateY(0)';
        hideLoader();
      }, 560);
    });
  });
}

document.addEventListener('DOMContentLoaded', () => {
  injectContent();   // fill from JSON
  initSPA();         // activate navigation
  showLoader();
  setTimeout(hideLoader, 1200);
  
/* -------------------------
   Re-init Case Studies Slider (uix1)
   ------------------------- */
setTimeout(() => {
  if (typeof window.initUix1 === 'function') {
    window.initUix1();
  }
}, 200);

});


/* -------------------------
   Typewriter Roles
   ------------------------- */
const typewriter = qs('#typewriter'); let roleIndex=0,charIndex=0;
(function type(){ if(!typewriter) return; if(charIndex<siteContent.hero.roles[roleIndex].length){ typewriter.textContent += siteContent.hero.roles[roleIndex].charAt(charIndex++); setTimeout(type,80);} else setTimeout(erase,1400); })();
function erase(){ if(charIndex>0){ typewriter.textContent = siteContent.hero.roles[roleIndex].substring(0,--charIndex); setTimeout(erase,32);} else { roleIndex=(roleIndex+1)%siteContent.hero.roles.length; setTimeout(type,380);} }

/* -------------------------
   Skills Carousel & Grid Modal
   ------------------------- */
(function initSkillsCarousel(){
  const carousel=qs('#skillsCarousel'); const left=qs('#skills-arrow-left'); const right=qs('#skills-arrow-right'); const detail=qs('#skillsCarouselDetail'); const titleEl=qs('#skills-detail-title'); const shortEl=qs('#skills-detail-short');
  if(!carousel) return;
  function escapeHTML(s){return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}
  siteContent.skills.forEach(p=>{const slide=document.createElement('div'); slide.className='card-slide'; slide.dataset.key=p.key; slide.innerHTML=`<img src="${p.img}" alt="${escapeHTML(p.title)}"><div class="meta">${escapeHTML(p.title)}</div>`; carousel.appendChild(slide);});
  const slides=Array.from(carousel.children); let activeIndex=Math.floor(slides.length/2); let scrollEndTimer=null;
  function findClosest(){const rect=carousel.getBoundingClientRect();const cx=rect.left+rect.width/2;let best=0,bd=Infinity;slides.forEach((s,i)=>{const r=s.getBoundingClientRect();const d=Math.abs((r.left+r.width/2)-cx);if(d<bd){bd=d;best=i;}});return best;}
  function setActive(i){slides.forEach(sl=>sl.classList.remove('active'));slides[i]?.classList.add('active');activeIndex=i;const p=siteContent.skills[i];if(p){titleEl.textContent=p.title;shortEl.textContent=p.short;detail.style.display='';}else detail.style.display='none';}
  function centerAt(i,smooth=true){i=Math.max(0,Math.min(i,slides.length-1));const s=slides[i];if(!s)return;const rect=carousel.getBoundingClientRect();const sr=s.getBoundingClientRect();const delta=(sr.left+sr.width/2)-(rect.left+rect.width/2);carousel.scrollBy({left:delta,behavior:smooth?'smooth':'auto'});setActive(i);}
  carousel.addEventListener('scroll',()=>{const c=findClosest();slides.forEach(s=>s.classList.remove('active'));slides[c]?.classList.add('active');const p=siteContent.skills[c];if(p){titleEl.textContent=p.title;shortEl.textContent=p.short;detail.style.display='';}clearTimeout(scrollEndTimer);scrollEndTimer=setTimeout(()=>{const idx=findClosest();activeIndex=idx;centerAt(idx,true);},120);},{passive:true});
  left&&left.addEventListener('click',()=>{centerAt(Math.max(0,findClosest()-1));}); right&&right.addEventListener('click',()=>{centerAt(Math.min(slides.length-1,findClosest()+1));});
  slides.forEach((s,i)=>{s.addEventListener('click',()=>{if(i!==findClosest())centerAt(i,true);});});
  setTimeout(()=>centerAt(Math.floor(slides.length/2),false),60);
})();

(function initGridModal(){
  const modal=qs('#case-study');const close=qs('#case-study .close');const modalThumb=qs('#modal-thumb');const modalTitle=qs('#modal-title');const modalRole=qs('#modal-role');const modalBody=qs('#modal-body');const modalLink=qs('#modal-link');
  function open(key){const p=siteContent.skills.find(x=>x.key===key);if(!p)return;modalThumb.src=p.img;modalTitle.textContent=p.title;modalRole.textContent=p.role;modalBody.innerHTML=p.details||'<p>'+p.short+'</p>';modalLink.href=p.live||'#';modal.style.display='flex';setTimeout(()=>modal.classList.add('show'),12);}
  function closeModal(){modal.classList.remove('show');setTimeout(()=>modal.style.display='none',180);}
  qsa('.project-grid .project').forEach(el=>{el.addEventListener('click',()=>open(el.dataset.key));});
  close&&close.addEventListener('click',closeModal);window.addEventListener('click',e=>{if(e.target===modal)closeModal();});window.addEventListener('keydown',e=>{if(e.key==='Escape')closeModal();});
})();

/* -------------------------
   View toggle & Mobile nav
   ------------------------- */
(function viewToggle(){const btnC=qs('#btn-skills-carousel');const btnG=qs('#btn-skills-grid');const carV=qs('#skillsCarouselView');const gridV=qs('#skillsGridView');function setView(m){if(m==='grid'){carV.style.display='none';gridV.style.display='grid';btnC.setAttribute('aria-pressed','false');btnG.setAttribute('aria-pressed','true');localStorage.setItem('skillsView','grid');}else{carV.style.display='';gridV.style.display='none';btnC.setAttribute('aria-pressed','true');btnG.setAttribute('aria-pressed','false');localStorage.setItem('skillsView','carousel');setTimeout(()=>window.centerSkillsCarousel&&window.centerSkillsCarousel(),60);}}const saved=localStorage.getItem('skillsView')||'carousel';setView(saved);btnC.addEventListener('click',()=>setView('carousel'));btnG.addEventListener('click',()=>setView('grid'));})();

const menuToggle=qs('#menu-toggle');const navUl=qs('nav ul');if(menuToggle&&navUl){menuToggle.addEventListener('click',()=>navUl.classList.toggle('show'));qsa('nav ul li a').forEach(a=>{a.addEventListener('click',()=>navUl.classList.remove('show'));});}
</script>
<!-- Scoped script for uix1 (inserted at end so DOM is ready) -->
<script>
window.initUix1 = () => {
  const root = document.querySelector('.uix1-root');
  if (!root) return;

  /* ---------- Slider (unchanged) ---------- */
  const track = root.querySelector('#uix1-track');
  const wrap = track.parentElement;
  const cards = Array.from(track.querySelectorAll('.uix1-card'));
  const prev = root.querySelector('#uix1-prev');
  const next = root.querySelector('#uix1-next');
  const dotsBox = root.querySelector('#uix1-dots');

  const isMobile = () => matchMedia('(max-width:767px)').matches;

  cards.forEach((_, i) => {
    const dot = document.createElement('span');
    dot.className = 'uix1-dot';
    dot.setAttribute('role','button');
    dot.setAttribute('aria-label', `Go to slide ${i+1}`);
    dot.onclick = () => activate(i, true);
    dotsBox.appendChild(dot);
  });
  const dots = Array.from(dotsBox.children);

  let current = 0;

  function center(i) {
    const card = cards[i];
    const axis = isMobile() ? 'top' : 'left';
    const size = isMobile() ? 'clientHeight' : 'clientWidth';
    const start = isMobile() ? card.offsetTop : card.offsetLeft;
    wrap.scrollTo({
      [axis]: start - (wrap[size] / 2 - card[size] / 2),
      behavior: 'smooth'
    });
  }

  function toggleUI(i) {
    cards.forEach((c,k) => { if (k===i) c.setAttribute('data-active','true'); else c.removeAttribute('data-active'); });
    dots.forEach((d,k) => d.classList.toggle('active', k===i));
    if (prev) prev.disabled = i === 0;
    if (next) next.disabled = i === cards.length - 1;
  }

  function activate(i, scroll) {
    if (i === current) return;
    current = i;
    toggleUI(i);
    if (scroll) center(i);
  }

  function go(step) {
    activate(Math.min(Math.max(current + step, 0), cards.length - 1), true);
  }

  if (prev) prev.onclick = () => go(-1);
  if (next) next.onclick = () => go(1);

  addEventListener('keydown', (e) => {
    if (['ArrowRight','ArrowDown'].includes(e.key)) go(1);
    if (['ArrowLeft','ArrowUp'].includes(e.key)) go(-1);
  }, { passive: true });

  cards.forEach((card,i) => {
    card.addEventListener('mouseenter', () => matchMedia('(hover:hover)').matches && activate(i,true));
    card.addEventListener('click', () => activate(i,true));
  });

  let sx=0, sy=0;
  track.addEventListener('touchstart', (e) => { sx = e.touches[0].clientX; sy = e.touches[0].clientY; }, { passive:true });
  track.addEventListener('touchend', (e) => {
    const dx = e.changedTouches[0].clientX - sx;
    const dy = e.changedTouches[0].clientY - sy;
    if (isMobile() ? Math.abs(dy) > 60 : Math.abs(dx) > 60) {
      go((isMobile() ? dy : dx) > 0 ? -1 : 1);
    }
  }, { passive:true });

  if (window.matchMedia('(max-width:767px)').matches) dotsBox.hidden = true;
  addEventListener('resize', () => center(current));
  toggleUI(0);
  requestAnimationFrame(() => center(0));

  /* ---------- Modal + zooming (matched open/close) ---------- */
  const modal = root.querySelector('#uix1-modal');
  const modalOverlay = modal.querySelector('[data-uix1-overlay]');
  const modalCloseBtn = modal.querySelector('[data-uix1-close]');
  const modalTitle = modal.querySelector('#uix1-modal-title');
  const modalImg = modal.querySelector('#uix1-modal-img');
  const modalDesc = modal.querySelector('#uix1-modal-desc');
  const dialog = modal.querySelector('.uix1-modal__dialog');

  let lastFocused = null;
  let openerElement = null;
  let isAnimating = false;

  function openModalFromCard(card, openerEl) {
    const titleEl = card.querySelector('.uix1-title');
    const descEl = card.querySelector('.uix1-desc');
    const thumb = card.querySelector('.uix1-thumb');
    const bg = card.querySelector('.uix1-bg');

    modalTitle.textContent = titleEl ? titleEl.textContent : '';
    modalDesc.textContent = descEl ? descEl.textContent : '';
    const imgSrc = (thumb && thumb.getAttribute('src')) || (bg && bg.getAttribute('src')) || '';
    modalImg.src = imgSrc;
    modalImg.alt = titleEl ? titleEl.textContent : 'Detail image';

    openerElement = openerEl || card;
    openModalWithZoom(openerElement);
  }

  function openModalWithZoom(opener) {
    if (isAnimating) return;
    isAnimating = true;
    lastFocused = document.activeElement;

    modal.setAttribute('uix1-open','true');
    modal.setAttribute('aria-hidden','false');

    const openerRect = opener.getBoundingClientRect();
    const dialogRect = dialog.getBoundingClientRect();

    const dialogCenterX = dialogRect.left + dialogRect.width / 2;
    const dialogCenterY = dialogRect.top + dialogRect.height / 2;
    const openerCenterX = openerRect.left + openerRect.width / 2;
    const openerCenterY = openerRect.top + openerRect.height / 2;

    const dx = openerCenterX - dialogCenterX;
    const dy = openerCenterY - dialogCenterY;

    let scale = Math.min(openerRect.width / dialogRect.width, openerRect.height / dialogRect.height);
    if (scale > 1) scale = Math.min(scale, 1.2);
    if (!isFinite(scale) || scale < 0.06) scale = 0.06;

    dialog.style.transition = 'none';
    dialog.style.transformOrigin = 'center center';
    dialog.style.transform = `translate(${dx}px, ${dy}px) scale(${scale})`;
    dialog.style.opacity = '0.01';

    dialog.getBoundingClientRect();

    requestAnimationFrame(() => {
      dialog.style.transition = 'transform 360ms cubic-bezier(.2,.9,.2,1), opacity 260ms ease';
      dialog.style.transform = 'translateY(0px) scale(1)';
      dialog.style.opacity = '1';
    });

    const onOpenEnd = (ev) => {
      if (ev && ev.target !== dialog) return;
      dialog.removeEventListener('transitionend', onOpenEnd);
      isAnimating = false;
      modalCloseBtn.focus();
      document.addEventListener('focus', focusTrap, true);
      document.addEventListener('keydown', onKeyDown);
    };
    dialog.addEventListener('transitionend', onOpenEnd);
  }

  function closeModalWithZoom() {
    if (isAnimating) return;
    isAnimating = true;
    document.removeEventListener('focus', focusTrap, true);
    document.removeEventListener('keydown', onKeyDown);

    const opener = openerElement || document.body;
    const openerRect = opener.getBoundingClientRect();
    const dialogRect = dialog.getBoundingClientRect();

    const dialogCenterX = dialogRect.left + dialogRect.width / 2;
    const dialogCenterY = dialogRect.top + dialogRect.height / 2;
    const openerCenterX = openerRect.left + openerRect.width / 2;
    const openerCenterY = openerRect.top + openerRect.height / 2;

    const dx = openerCenterX - dialogCenterX;
    const dy = openerCenterY - dialogCenterY;

    let scale = Math.min(openerRect.width / dialogRect.width, openerRect.height / dialogRect.height);
    if (scale > 1) scale = Math.min(scale, 1.2);
    if (!isFinite(scale) || scale < 0.06) scale = 0.06;

    dialog.style.transition = 'transform 300ms cubic-bezier(.2,.9,.2,1), opacity 220ms ease';
    dialog.style.transformOrigin = 'center center';
    dialog.style.transform = `translate(${dx}px, ${dy}px) scale(${scale})`;
    dialog.style.opacity = '0.01';

    const onEnd = (ev) => {
      if (ev && ev.target !== dialog) return;
      dialog.removeEventListener('transitionend', onEnd);
      modal.setAttribute('uix1-open','false');
      modal.setAttribute('aria-hidden','true');
      isAnimating = false;
      if (lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus();
      openerElement = null;
    };
    dialog.addEventListener('transitionend', onEnd);
  }

  function closeModal() { closeModalWithZoom(); }

  function onKeyDown(e) {
    if (e.key === 'Escape') { e.preventDefault(); closeModal(); }
    else if (e.key === 'Tab') { maintainTabFocus(e); }
  }

  function focusTrap(e) { if (!modal.contains(e.target)) { e.stopPropagation(); modalCloseBtn.focus(); } }

  function maintainTabFocus(e) {
    const focusable = modal.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');
    const arr = Array.from(focusable).filter(el => el.offsetParent !== null);
    if (arr.length === 0) return;
    const first = arr[0], last = arr[arr.length -1];
    if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
    else if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
  }

  const detailButtons = root.querySelectorAll('.uix1-btn');
  detailButtons.forEach((btn) => { btn.addEventListener('click', (e) => { const card = btn.closest('.uix1-card'); if (!card) return; openModalFromCard(card, btn); }); });

  modalOverlay.addEventListener('click', () => closeModal());
  modalCloseBtn.addEventListener('click', () => closeModal());
};
window.initUix1();

// const menuToggle=document.getElementById('menu-toggle');
// const navUl=document.querySelector('nav ul');
// menuToggle.addEventListener('click',()=>navUl.classList.toggle('show'));
// document.querySelectorAll('nav ul li a').forEach(a=>{
//   a.addEventListener('click',()=>navUl.classList.remove('show'));
// });
</script>

</body>
</html>
